---
title: "MPG & Transmission Type Analysis"
output: html_document
---
##Executive Summary
Motor Trend magazine is interested in exploring the relationship between a specific set of variables and mpg; they are particularly interested in the following:

1. Is an automatic or manual transmission better for MPG?
2. Quantify the MPG difference between automatic and manual transmissions?

Using hypothesis testing and simple linear regression, we can conslude that there is a signficant difference between the mean MPG for automatic and manual transmission cars.  To adjust for other confounding variables such as the weight and quarter mile time (acceleration) of the car, multivariate regression analysis was run to understand the impact of transmission type on MPG.  The final model results indicates that weight and quarter mile time (acceleration) have signficant impact in quantifying the difference of mpg between automatic and manual transmission cars.
  
  
```{r  LoadLibrary, include=T, eval=T, echo=F}
    library(ggplot2);
```


##Data Processing
```{r DataProcessing, include=T, eval=T, echo=T}
#   Set Working Directory
    setwd("~/Data Science/07 Regression Models");

#   Read "mtcars" Data
    data(mtcars);
    dim(mtcars);
    head(mtcars, n=5);
```



## Exploratory Analysis
```{r BoxPlot, include=T, eval=T, echo=T}
#   Box Plot: MPG vs Transmission Type
    boxplot(mpg~am, data=mtcars, col=c("blue", "green"),
        xlab="Transmission (Manual=0, Auto=1)", ylab="MPG",
        main="MPG & Transmission Type"
    );
```

###Means Test
```{r MeansTest, include=T, eval=T, echo=T}
#   Aggregate Data & Calculated Mean for MPG & Transmission Type
    Mean <- aggregate(mpg~am, data=mtcars, mean);
    Mean;

#   Two Sample T-Test
    Automatic <- mtcars[mtcars$am==1, ];
    Manual <- mtcars[mtcars$am==0, ];
    MTest <- t.test(Automatic$mpg, Manual$mpg);
    MTest[3];
```


###Correlation Analysis
```{r CorAnalysis, include=T, eval=T, echo=T}
#   Correlation "mpg" Relative to Remaining Variables
    CorMatrix <- cor(mtcars)[1, ];
    CorMatrix;
```


##Model
###Linear Regression
```{r LRegression, include=T, eval=T, echo=T}
#   Linear Regression
    LRegression <- lm(mpg~am, data=mtcars);
    summary(LRegression);
```


###Multivariate Regression
```{r MRegression, include=T, eval=T, echo=T}
    MRegression <- step(lm(data=mtcars, mpg ~ .), trace=0, steps=10000);
    summary(MRegression);
    
    Best <- lm(mpg~am + wt + qsec, data = mtcars);
    anova(MRegression, Best);
    summary(Best);
```


## Appendix
```{r Appendix, include=T, eval=T, echo=T}
#   Histogram
    g <- ggplot(mtcars, aes(mtcars$mpg))
    g <- g + geom_histogram(aes(mpg), binwidth=2, color="black", fill="green", 
        alpha=.5)
    g <- g + ggtitle("MPG Histogram") + labs(x="MPG", y="Frequency")
    g <- g  + theme_bw()
    g
    
#   Density Plot
    d <- density(mtcars$mpg);
    plot(d, xlab="MPG", main="MPG Density Plot");
    
    plot(Best);
```
